-- Services
local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- Lade die Whitelist von GitHub (als Text)
local whitelistSource = game:HttpGet("https://raw.githubusercontent.com/kjhbdwadabfjkhgf/ajshgbdhb28/main/wlsajhbdihuzawbgIJKUHB")

-- Whitelist als Tabelle bauen
local whitelist = {}
for id in string.gmatch(whitelistSource, "%d+") do
    whitelist[tonumber(id)] = true
end

-- Check ob der Spieler drinsteht
if not whitelist[player.UserId] then
    player:Kick("Du bist nicht auf der Whitelist!")
    return  -- Script hÃ¶rt hier sofort auf
end

-- ==== Ab hier wird nur ausgefÃ¼hrt, wenn man WL ist ====

print("âœ… Whitelist-Check bestanden! Spieler darf rein.")
local library =
    loadstring(game:HttpGet("https://raw.githubusercontent.com/memejames/elerium-v2-ui-library//main/Library", true))()
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Players = game:GetService("Players")
local player = Players.LocalPlayer
local VirtualInputManager = game:GetService("VirtualInputManager")
local VirtualUser = game:GetService("VirtualUser")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local Lighting = game:GetService("Lighting")
local Stats = game:GetService("Stats")
local window =
    library:AddWindow(
    "ðŸ‘‘ | Muki private script",
    {
        main_color = Color3.fromRGB(0, 0, 0),
        min_size = Vector2.new(750, 950),
        can_resize = true
    }
)
local KillingTab = window:AddTab("Killing")
local autoKillFolder = KillingTab:AddFolder("Auto Kill Systems")
autoKillFolder:AddSwitch(
    "Kill Everyone",
    function(bool)
        _G.killAll = bool
        if bool then
            -- Event-Hooks aktivieren (fÃ¼r instant kills beim Spawn)
            local function hookPlayer(p)
                if p ~= player and not isWhitelisted(p) then
                    p.CharacterAdded:Connect(function()
                        if _G.killAll then
                            task.spawn(killPlayer, p)
                        end
                    end)
                end
            end

            -- alle aktuellen Spieler hooken
            for _, p in ipairs(Players:GetPlayers()) do
                hookPlayer(p)
            end
            -- neue Spieler automatisch hooken
            if not _G.playerAddedConnection then
                _G.playerAddedConnection = Players.PlayerAdded:Connect(hookPlayer)
            end

            -- Heartbeat-Loop (falls Spieler schon leben)
            if not _G.killAllConnection then
                _G.killAllConnection = RunService.Heartbeat:Connect(function()
                    if _G.killAll then
                        for _, targetPlayer in ipairs(Players:GetPlayers()) do
                            if targetPlayer ~= player and not isWhitelisted(targetPlayer) then
                                task.spawn(killPlayer, targetPlayer)
                            end
                        end
                    end
                end)
            end
        else
            -- ausschalten
            if _G.killAllConnection then
                _G.killAllConnection:Disconnect()
                _G.killAllConnection = nil
            end
            if _G.playerAddedConnection then
                _G.playerAddedConnection:Disconnect()
                _G.playerAddedConnection = nil
            end
        end
    end
)

